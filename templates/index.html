<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vessel Data</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='scripts.js') }}" defer></script>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <a href="https://themisto.in" target="_blank">
                    <img src="https://themisto.in/cdn/shop/files/2.jpg?v=1664780752&width=500" alt="Themisto Logo">
                </a>
            </div>
            <div class="title">
                <h2>Live Vessel Tracking</h2>
            </div>
            <div class="spacer"></div>
        </header>
        <div class="main-content">
            <div class="left-column">
                <h2>Live Position</h2>
                <div id="map">{{ map_html|safe }}</div>
            </div>
            <div class="right-column">
                <h2>Vessel Details</h2>
                <table id="main-table">
                    <thead>
                        <tr>
                            {% for header in headings %}
                            <th>{{ header }}</th>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in data %}
                        <tr>
                            <td>
                                <a href="#" class="vessel-name" data-vessel-id="{{ row[4] }}">{{ row[0] }}</a>
                            </td>
                            {% for cell in row[1:4] %}
                            <td>{{ cell }}</td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                <div id="details-table" class="hidden">
                    <h2>Contents</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Quantity</th>
                            </tr>
                        </thead>
                        <tbody id="contents-list">
                        </tbody>
                    </table>
                    <div class="pagination">
                        <button id="prev-btn" onclick="prevPage()">Previous</button>
                        <span id="current-page">1</span>
                        <button id="next-btn" onclick="nextPage()">Next</button>
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <p>Developed by <a href="https://themisto.in" target="_blank">Themisto.in</a> | Â© 2024 Themisto. All rights reserved. | <a href="https://themisto.in/policies/terms-of-service" target="_blank">Terms of Service</a> | Navigating the seas, one vessel at a time.</p>
        </footer>
    </div>
</body>
</html>
